{% load otree %}
{{block styles }}
    <link href="{{ static 'global/Instructions.css' }}" rel="stylesheet">
<style type="text/css">

#fadeIn {
            animation-name: fade;
            animation-duration: 4s;
        }
        @keyframes fade{
            0% {background-color: cyan;border-radius: 5px;}
            50% {background-color: #58FAAC;border-radius: 5px;}
            100% {background-color: transparent}
        }
</style>
{{ endblock }}
{% block content %}
<div class="card bg-light instructions">
    <div class="card-header bg-transparent mainheader" >
 <h3 class="card-title font-weight-bold"> Teil 2 </h3>
        </div>
    <div class="card-body">
<h3 style="text-align: center"> Schätzaufgabe <b id="fadeIn">{{ round }} von 10</b></h3>
<br>
<br>
        <div style="text-align: center"> Im Folgenden sehen Sie die Schätzung Ihres zufällig zugewiesenen Schätzgerätes. Bitte machen Sie Ihre Eingabe innerhalb von 2 Minuten:</div>
<br>
<br>
        <div class="alert alert-warning" role="alert" id="timer_warning" style="visibility: hidden">
  Bitte machen Sie nun Ihre Eingabe und bestätigen Sie mit "Weiter".
    </div>
<br>
<div class="row" align="center">
  <div class="col">
<div class="card" style="width: 18rem   ">
  <div class="card-header" style="font-weight: bold">
    Schätzung
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item">{{ estimate }}</li>
  </ul>
</div>
    </div>
</div>
<br>
<br>
<br>
<div align="center">
    Bitte geben Sie nun Ihre eigene Schätzung zum tatsächlichen Wert der Zahl <i>x</i> ab und bestätigen Sie mit weiter:
    <br>
    <br>
{{ formfield 'sent_signal' label=""}}
    <br>
</div>
        </div>
        </div>
<div align="center">
    {% next_button %}
</div>
        <div class="alert alert-warning" role="alert" id="entry_warning" style="visibility: hidden" align="center">
  <b>Achtung!</b> Ihr Eingabe weicht um mehr als 10 von der Schätzung Ihres zufällig zugewiesenen Schätzgerätes ab.
            Sie können ihre Chancen für die Auszahlung maximieren, indem Sie in jeder Schätzaufgabe genau die vom Schätzgerät angegebene Zahl angeben.
    </div>
<script>

function timer_warning(){
  document.getElementById("timer_warning").style.visibility = "visible"
}
setTimeout(timer_warning, 90000);

forminputs.sent_signal.oninput = function() {
   setTimeout(checkInput, 2000)}
function checkInput() {
    if (Math.abs(forminputs.sent_signal.value - js_vars.estimate) > js_vars.entry_warning_border) {
  document.getElementById("entry_warning").style.visibility = "visible"}
  else {
  document.getElementById("entry_warning").style.visibility = "hidden"}
}
</script>
{% endblock %}
